import { createI18n } from 'vue-i18n';

const messages = {
  fr: {
    // Home (landing)
    home: {
      heroTitle: 'Gardez le contrôle de vos cartes de récompenses',
      heroSubtitle: 'Suivez vos cartes, vos primes de bienvenue et vos points, du catalogue aux futurs objectifs voyage, avec alertes et outils de planification.',
      getStarted: 'Créer un compte',
      featuresTitle: 'Pourquoi PointsRocket',
      feature1Title: 'Toutes vos cartes en un lieu',
      feature1Desc: 'Listez vos cartes par banque, type et programme de points. Aujourd’hui : suivi simple et catalogue ; bientôt : tableaux de bord et historique complet.',
      feature2Title: 'Suivis hebdomadaires',
      feature2Desc: 'Enregistrez la valeur des points et les dépenses chaque semaine, et préparez les futures alertes d\'expiration, rappels de churn et simulateurs de dépenses.',
      feature3Title: 'Catalogue et comparaison',
      feature3Desc: 'Parcourez un catalogue de cartes avec primes de bienvenue (année 1 et 2+), filtrez par banque ou sans frais annuels, et préparez vos prochains objectifs voyage.',
      bullet1: 'Centralisez toutes vos cartes et voyez frais, statuts et valeur de vos points en un coup d’œil.',
      bullet2: 'Ne manquez plus les dates clés : futures alertes d’expiration de points, renouvellement et min spend.',
      bullet3: 'Planifiez la suite avec simulateur de dépenses, comparateur de cartes et, bientôt, suivi d’objectifs voyage.',
      tileOverviewTitle: 'Vue d’ensemble',
      tileOverviewBody: 'Voyez immédiatement vos cartes, leur banque, leur type et leur statut. Tout votre portefeuille au même endroit.',
      tileCatalogueTitle: 'Catalogue',
      tileCatalogueBody: 'Parcourez un catalogue alimenté par Milesopedia et ajoutez une carte à votre suivi en un clic.',
      tileWeeklyTitle: 'Suivis hebdomadaires',
      tileWeeklyBody: 'Enregistrez la valeur de vos points et vos dépenses chaque semaine pour rester aligné avec vos objectifs.',
      tileFansTitle: 'Pensé pour les passionnés',
      tileFansBody: 'Un outil léger, sans fioritures, pour suivre vos cartes et maximiser vos récompenses.',
      ctaText: 'Prêt à mieux gérer vos cartes ? Inscrivez-vous gratuitement.',
    },
    // Navigation
    nav: {
      myCards: 'Mes cartes',
      availableCards: 'Catalogue',
      newCard: 'Nouvelle carte',
      profile: 'Profil',
    },
    auth: {
      loginTitle: 'Connexion',
      loginIntro: 'Connectez-vous pour accéder à vos cartes.',
      login: 'Connexion',
      logout: 'Déconnexion',
      registerTitle: 'Créer un compte',
      registerIntro: 'Créez un compte pour gérer vos cartes.',
      register: 'Créer le compte',
      registerLink: 'Créer un compte',
      loginLink: 'Se connecter',
      email: 'Courriel',
      password: 'Mot de passe',
      name: 'Nom',
      passwordMin: 'Au moins 8 caractères.',
      noAccount: 'Pas encore de compte ?',
      hasAccount: 'Déjà un compte ?',
      loading: 'Chargement…',
      forgotPassword: 'Mot de passe oublié ?',
      forgotTitle: 'Réinitialiser le mot de passe',
      forgotIntro: 'Indiquez votre courriel pour recevoir un lien de réinitialisation.',
      sendResetLink: 'Envoyer le lien',
      resetLinkSent: 'Si un compte existe avec ce courriel, un lien a été envoyé. En développement, le lien peut s\'afficher ci-dessous.',
      backToLogin: 'Retour à la connexion',
      resetTitle: 'Nouveau mot de passe',
      resetIntro: 'Choisissez un nouveau mot de passe.',
      newPassword: 'Nouveau mot de passe',
      resetPassword: 'Réinitialiser le mot de passe',
      resetSuccess: 'Votre mot de passe a été mis à jour. Vous êtes connecté.',
      goToApp: 'Aller à l\'application',
      profileTitle: 'Profil',
      profileIntro: 'Modifiez vos informations et votre mot de passe.',
      saveProfile: 'Enregistrer le profil',
      changePasswordTitle: 'Changer le mot de passe',
      currentPassword: 'Mot de passe actuel',
      changePassword: 'Changer le mot de passe',
      errorLogin: 'Connexion impossible. Vérifiez vos informations et réessayez.',
      errorRegister: 'Création du compte impossible. Réessayez ou contactez le support.',
      errorReset: 'Réinitialisation impossible. Le lien est peut‑être expiré.',
      errorGeneric: 'Une erreur est survenue. Réessayez plus tard.',
      profileUpdated: 'Profil mis à jour.',
      passwordUpdated: 'Mot de passe mis à jour.',
    },
    // Card list
    cardList: {
      title: 'Cartes',
      allStatuses: 'Tous les statuts',
      allBanks: 'Toutes les banques',
      allPointTypes: 'Tous les types de points',
      loading: 'Chargement…',
      card: 'Carte',
      type: 'Type',
      bank: 'Banque',
      status: 'Statut',
      pointsType: 'Type de points',
      pointsValue: 'Valeur des points',
      annualCost: 'Frais annuels',
      lastSnapshot: 'Dernier suivi',
      snapshots: 'Suivis',
      delete: 'Supprimer',
      noCards: 'Aucune carte.',
      addOne: 'En ajouter une',
      deleteConfirm: 'Supprimer « {name} » ?',
      cancel: 'Annuler',
    },
    // Card form
    cardForm: {
      editCard: 'Modifier la carte',
      newCard: 'Nouvelle carte',
      refreshFromMilesopedia: 'Rafraîchir depuis Milesopedia',
      refreshingFromMilesopedia: 'Rafraîchissement depuis Milesopedia…',
      cardName: 'Nom de la carte *',
      type: 'Type *',
      status: 'Statut *',
      pointsType: 'Type de points *',
      bank: 'Banque *',
      lineOfCredit: 'Marge de crédit',
      annualCost: 'Frais annuels ($)',
      pointsValue: 'Valeur des points',
      expenses: 'Dépenses',
      progression: 'Progression (0–100)',
      openDate: 'Date d\'ouverture',
      closeDate: 'Date de fermeture',
      possibleReopenDate: 'Date de réouverture possible',
      deadline: 'Échéance',
      pointsDetails: 'Détails des points',
      cancel: 'Annuler',
      update: 'Mettre à jour',
      create: 'Créer',
      importFromMilesopedia: 'Importer depuis Milesopedia',
      importIntro: 'Récupérer le catalogue Milesopedia pour préremplir le formulaire (prend environ une minute).',
      fetchFromMilesopedia: 'Récupérer les cartes depuis Milesopedia',
      fetching: 'Récupération…',
      selectCardToPrefill: 'Choisir une carte pour préremplir :',
      annual: 'annuel',
      isBusiness: 'Carte PME / entreprise',
    },
    // Card status (for filters and display)
    status: {
      Open: 'Ouverte',
      Closed: 'Fermée',
      Refused: 'Refusée',
      To_Open: 'À ouvrir',
    },
    // Snapshots
    snapshots: {
      backToCards: 'Cartes',
      title: 'Suivis hebdomadaires',
      titleShort: 'Suivis',
      editCard: 'Modifier la carte',
      addSnapshot: 'Ajouter un suivi',
      weekStart: 'Début de semaine (lundi)',
      pointsValue: 'Valeur des points',
      expenses: 'Dépenses',
      notes: 'Notes',
      add: 'Ajouter',
      history: 'Historique',
      loading: 'Chargement…',
      weekStartCol: 'Début de semaine',
      delete: 'Supprimer',
      noSnapshots: 'Aucun suivi. Ajoutez-en un ci-dessus.',
      deleteConfirm: 'Supprimer ce suivi ?',
    },
    // Available cards (catalog)
    availableCards: {
      title: 'Catalogue de cartes',
      intro: 'Choisissez une carte dans le catalogue puis « Ajouter à mes cartes » pour l\'ajouter à votre suivi. Les informations sont préremplies ; vous pourrez les modifier après l\'ajout.',
      refreshFromMilesopedia: 'Rafraîchir le catalogue (sans IA)',
      refreshingFromMilesopedia: 'Rafraîchissement…',
      refreshWithAi: 'Rafraîchir le catalogue avec l\'IA (dépense min., conditions)',
      refreshingWithAi: 'Rafraîchissement avec l\'IA…',
      refreshOneWithAi: 'Rafraîchir avec l\'IA',
      loading: 'Chargement…',
      allBanks: 'Toutes les banques',
      allTypes: 'Tous les types',
      allPointTypes: 'Tous les types de points',
      details: 'Détails',
      addToMyCards: 'Ajouter à mes cartes',
      refresh: 'Rafraîchir',
      refreshing: 'Rafraîchissement…',
      noMatch: 'Aucune carte ne correspond aux filtres.',
      personal: 'Personnel',
      pme: 'PME',
      allSegments: 'Toutes',
      page: 'Page',
      prev: '‹ Préc.',
      next: 'Suiv. ›',
      cardDetails: 'Détails de la carte',
      name: 'Nom',
      bank: 'Banque',
      type: 'Type',
      pointsType: 'Type de points',
      annualCost: 'Frais annuels',
      welcomeBonusValue: 'Valeur de la prime de bienvenue',
      year1: 'Année 1',
      years2Plus: 'Années 2+',
      minimumSpend: 'Dépenses minimales',
      bonusDetails: 'Détails de la prime',
      openCardPage: 'Ouvrir la page Milesopedia',
      close: 'Fermer',
      na: 'N/A',
      noAnnualCost: 'Sans frais annuels',
      perYear: '/an',
      valueFirstYear: 'Valeur 1ère année',
      noWelcomeOffer: 'Aucune offre de bienvenue',
      sortBy: 'Trier par',
      sortByName: 'Nom (A–Z)',
      sortByValueY1Desc: 'Valeur 1ère année (plus élevée)',
      sortByValueY1Asc: 'Valeur 1ère année (plus basse)',
      lastRefreshed: 'Dernière mise à jour du catalogue',
      reloadList: 'Recharger la liste',
    },
  },
  en: {
    // Home (landing)
    home: {
      heroTitle: 'Stay on top of your rewards cards',
      heroSubtitle: 'Track your cards, welcome bonuses, and points — from the catalogue to future travel goals — with alerts and planning tools.',
      getStarted: 'Create an account',
      featuresTitle: 'Why PointsRocket',
      feature1Title: 'All your cards in one place',
      feature1Desc: 'List your cards by bank, type, and points program. Today: simple tracking and catalogue; next: dashboards and full history.',
      feature2Title: 'Weekly tracking',
      feature2Desc: 'Record point values and spend every week, and get ready for future expiry alerts, churn reminders, and spend simulators.',
      feature3Title: 'Catalogue and comparison',
      feature3Desc: 'Browse a catalogue of cards with welcome bonuses (year 1 and 2+), filter by bank or no annual fee, and prepare your next travel goals roadmap.',
      bullet1: 'Centralize your cards and see fees, statuses, and point value at a glance.',
      bullet2: 'Never miss key dates again with future expiry, renewal, and min-spend alerts.',
      bullet3: 'Plan ahead with a spend simulator, card comparison, and soon, travel goals tracking.',
      tileOverviewTitle: 'Overview',
      tileOverviewBody: 'See all your cards, banks, types, and statuses at a glance. Your whole wallet in one place.',
      tileCatalogueTitle: 'Catalogue',
      tileCatalogueBody: 'Browse a catalogue powered by Milesopedia and add cards to your tracking in one click.',
      tileWeeklyTitle: 'Weekly snapshots',
      tileWeeklyBody: 'Log point value and spend week by week so you stay aligned with your bonus goals.',
      tileFansTitle: 'Built for card nerds',
      tileFansBody: 'A lightweight tool, no fluff, to track your cards and maximize your rewards.',
      ctaText: 'Ready to manage your cards better? Sign up for free.',
    },
    // Navigation
    nav: {
      myCards: 'My cards',
      availableCards: 'Catalogue',
      newCard: 'New card',
      profile: 'Profile',
    },
    auth: {
      loginTitle: 'Log in',
      loginIntro: 'Log in to access your cards.',
      login: 'Log in',
      logout: 'Log out',
      registerTitle: 'Create an account',
      registerIntro: 'Create an account to manage your cards.',
      register: 'Create account',
      registerLink: 'Create an account',
      loginLink: 'Log in',
      email: 'Email',
      password: 'Password',
      name: 'Name',
      passwordMin: 'At least 8 characters.',
      noAccount: 'No account yet?',
      hasAccount: 'Already have an account?',
      loading: 'Loading…',
      forgotPassword: 'Forgot password?',
      forgotTitle: 'Reset password',
      forgotIntro: 'Enter your email to receive a reset link.',
      sendResetLink: 'Send reset link',
      resetLinkSent: 'If an account exists with this email, a link has been sent. In development, the link may appear below.',
      backToLogin: 'Back to login',
      resetTitle: 'New password',
      resetIntro: 'Choose a new password.',
      newPassword: 'New password',
      resetPassword: 'Reset password',
      resetSuccess: 'Your password has been updated. You are now logged in.',
      goToApp: 'Go to the app',
      profileTitle: 'Profile',
      profileIntro: 'Update your information and password.',
      saveProfile: 'Save profile',
      changePasswordTitle: 'Change password',
      currentPassword: 'Current password',
      changePassword: 'Change password',
      errorLogin: 'Login failed. Please check your details and try again.',
      errorRegister: 'Could not create your account. Please try again or contact support.',
      errorReset: 'Reset failed. The link may have expired.',
      errorGeneric: 'Something went wrong. Please try again later.',
      profileUpdated: 'Profile updated.',
      passwordUpdated: 'Password updated.',
    },
    // Card list
    cardList: {
      title: 'Cards',
      allStatuses: 'All statuses',
      allBanks: 'All banks',
      allPointTypes: 'All point types',
      loading: 'Loading…',
      card: 'Card',
      type: 'Type',
      bank: 'Bank',
      status: 'Status',
      pointsType: 'Points type',
      pointsValue: 'Points value',
      annualCost: 'Annual fee',
      lastSnapshot: 'Last snapshot',
      snapshots: 'Snapshots',
      delete: 'Delete',
      noCards: 'No cards yet.',
      addOne: 'Add one',
      deleteConfirm: 'Delete “{name}”?',
      cancel: 'Cancel',
    },
    // Card form
    cardForm: {
      editCard: 'Edit card',
      newCard: 'New card',
      refreshFromMilesopedia: 'Refresh from Milesopedia',
      refreshingFromMilesopedia: 'Refreshing from Milesopedia…',
      cardName: 'Card name *',
      type: 'Type *',
      status: 'Status *',
      pointsType: 'Points type *',
      bank: 'Bank *',
      lineOfCredit: 'Credit line',
      annualCost: 'Annual fee ($)',
      pointsValue: 'Points value',
      expenses: 'Expenses',
      progression: 'Progress (0–100)',
      openDate: 'Open date',
      closeDate: 'Close date',
      possibleReopenDate: 'Possible reopen date',
      deadline: 'Deadline',
      pointsDetails: 'Points details',
      cancel: 'Cancel',
      update: 'Update',
      create: 'Create',
      importFromMilesopedia: 'Import from Milesopedia',
      importIntro: 'Fetch the Milesopedia catalogue to prefill the form (takes about a minute).',
      fetchFromMilesopedia: 'Fetch cards from Milesopedia',
      fetching: 'Fetching…',
      selectCardToPrefill: 'Choose a card to prefill:',
      annual: 'annual',
      isBusiness: 'PME / Business card',
    },
    // Card status (for filters and display)
    status: {
      Open: 'Open',
      Closed: 'Closed',
      Refused: 'Refused',
      To_Open: 'To open',
    },
    // Snapshots
    snapshots: {
      backToCards: 'Cards',
      title: 'Weekly snapshots',
      titleShort: 'Snapshots',
      editCard: 'Edit card',
      addSnapshot: 'Add snapshot',
      weekStart: 'Week start (Monday)',
      pointsValue: 'Points value',
      expenses: 'Expenses',
      notes: 'Notes',
      add: 'Add',
      history: 'History',
      loading: 'Loading…',
      weekStartCol: 'Week start',
      delete: 'Delete',
      noSnapshots: 'No snapshots yet. Add one above.',
      deleteConfirm: 'Delete this snapshot?',
    },
    // Available cards (catalog)
    availableCards: {
      title: 'Card catalogue',
      intro: 'Choose a card from the catalogue and click “Add to my cards” to start tracking it. Most information is prefilled; you can edit it after adding.',
      refreshFromMilesopedia: 'Refresh catalogue (no AI)',
      refreshingFromMilesopedia: 'Refreshing…',
      refreshWithAi: 'Refresh catalogue with AI (min spend, conditions)',
      refreshingWithAi: 'Refreshing with AI…',
      refreshOneWithAi: 'Refresh with AI',
      loading: 'Loading…',
      allBanks: 'All banks',
      allTypes: 'All types',
      allPointTypes: 'All point types',
      details: 'Details',
      addToMyCards: 'Add to my cards',
      refresh: 'Refresh',
      refreshing: 'Refreshing…',
      noMatch: 'No cards match your filters.',
      personal: 'Personal',
      pme: 'Business',
      allSegments: 'All',
      page: 'Page',
      prev: '‹ Prev',
      next: 'Next ›',
      cardDetails: 'Card details',
      name: 'Name',
      bank: 'Bank',
      type: 'Type',
      pointsType: 'Points type',
      annualCost: 'Annual fee',
      welcomeBonusValue: 'Welcome bonus value',
      year1: 'Year 1',
      years2Plus: 'Years 2+',
      minimumSpend: 'Minimum spend',
      bonusDetails: 'Bonus details',
      openCardPage: 'Open Milesopedia page',
      close: 'Close',
      na: 'N/A',
      noAnnualCost: 'No annual fee',
      perYear: '/year',
      valueFirstYear: '1st year value',
      noWelcomeOffer: 'No welcome offer',
      sortBy: 'Sort by',
      sortByName: 'Name (A–Z)',
      sortByValueY1Desc: '1st year value (highest)',
      sortByValueY1Asc: '1st year value (lowest)',
      lastRefreshed: 'Last catalogue update',
      reloadList: 'Reload list',
    },
  },
};

function detectLocale() {
  if (typeof navigator === 'undefined') return 'en';
  const browser = (navigator.language || 'en').split('-')[0];
  return ['en', 'fr'].includes(browser) ? browser : 'en';
}

export const i18n = createI18n({
  legacy: false,
  locale: detectLocale(),
  fallbackLocale: 'en',
  messages,
});
